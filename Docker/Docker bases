Что такое Docker и в чем заключается его отличие от виртуальных машин?
    - это средство контейнеризации приложений со всеми его зависимостями в изолированной среде. отличие от ВМ в том, что
    ВМ реализует целую ОС для каждого приложения, что делает ее медленной, трудоемкой, в отличии от докера, который имеет
    одно общее ядро хоста добавляя слой абстракции.
Какие основные компоненты содержит Docker-образ?
    - базовый слой (базовый образ FROM), инструкции запуска (ENTRYPOINT, CMD), метаданные.
Что представляет собой Dockerfile и какие инструкции можно использовать в нем?
    - представляет собой файл с инструкциями для создания образа. FROM - базовый образ, RUN - выполнение комманд, COPY и
    ADD - копирование файлов, WORKDIR - рабочая директория, CMD или ENTRYPOINT - определение команды, выполняемой при
    запуске.
Какие аналогичные технологии существуют, и как они отличаются от Docker?
    - основные аналоги: Podman, containerd и runC. Докер - это интегрированная программа, объединяющая в себе все
    инструменты для создания, сборки, распространения и запуска контейнеров. Containerd и runC - это низкоуровневые
    рантайм.
Какие преимущества Docker имеет по сравнению с аналогами?
    - благодаря тому, что докер имеет одно общее ядро хоста, он гораздо быстрее и более легковесный. также плюсом его
    большая экосистема.
Какие основные шаги необходимо выполнить для создания базового Dockerfile для PHP-приложения?
    - сначала создается докерфайл, где прописывается FROM - базовый образ (например php:8.4-fpm), далее копирование
    кода в образ (COPY . /var/www/html), установка зависимостей (RUN composer install), установка рабочей директории
    (WORKDIR /var/www/html), указание команд, который будут запускаться при старте контейнера (CMD ["php-fpm"].
Как использовать Docker Compose для развертывания приложения, состоящего из веб-сервиса PHP и базы данных MySQL?
    - нужно написать docker-compose.yml, который будет описывать три сервиса: php-fpm, nginx, mysql. в файле нужно
    будет указать порты для доступа, настроить тома для хранения кода приложения и данных бд, а также установить
    переменные окружения для подключения к mysql.
Что такое volume в Docker и как его использовать для хранения данных приложения?
    - способ хранения данных, который позволяет сохранять инфу вне файловой системы докера, что делает ее постоянной
    даже после удаления контейнера. volume можно использовать прописав его в docker-compose.yml
Как использовать network в Docker для связи между сервисами?
    - самый простой способ - прописать network в docker-compose.yml (services:
                                                                       app:
                                                                         image: my-app-image
                                                                         networks:
                                                                           - my-network
                                                                       db:
                                                                         image: postgres:16
                                                                         networks:
                                                                           - my-network

                                                                     networks:
                                                                       my-network:
                                                                         driver: bridge)
    также можно вручную создать сеть - docker network create my-network, и после, запускать контейнеры указывая эту сеть
Как обеспечить резервное копирование и восстановление данных в Docker?
    - резервное копирование образов происходит при помощи двух команд: docker save - сохраняет образ в .tar архив,
    docker load - загружает докер образ из .tar архива. (docker save -o php_latest.tar php:latest; docker load -i php_latest.tar)
    хранение резервных копий системы на сервере с самой системой не допустимо, поэтому можно хранить их на удаленном
    репозитории (docker login; docker push php)
    для резервного копирования контейнеров, нужно закоммитить последние, на момент коммита, изменения в контейнере и после
    мы бэкапим этот образ контейнера вышеуказанным способом. (
        docker ps
        CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
        78727078a04b busybox:latest "/bin/bash" 13 seconds ago Up 11 seconds my-container

        docker commit 78727078a04b my-container:0.0.1
        e09f9ac65c8b3095927c14ca0594868f73831bde0800ce66415afeb91aea93cf

        docker images
        REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZE
        my-container 0.0.1 e09f9ac65c8b 39 seconds ago 125.1 MB
        )
Какие методы оптимизации производительности Docker-образов вы знаете?
    - использование легковесных образов (alpine), удаление кэша (RUN apk add --no-cache ...), объединение команд RUN -
    это уменьшает количество слоев в образе, минимизация слоев ADD и COPY - по возможности, использовать одну COPY для
    копирования всех файлов проекта.
Как развернуть приложение в production-среде с использованием Docker Compose?
    - в проекте прописываются докерфайлы, конфиг и сам докер-компоуз.yml; арендуется облачный сервер, настраивается ssh,
    дальше либо проект пушиться в удаленный репозиторий гита, либо собирается в удаленный репозиторий докерхаба
    (что, как я понял, проще и лучше, потому что как минимум не нужно будет отдельно устанавливать на сервере все
    зависимости); дальше можно оформить большую автоматизацию через ci cd пайплайн, автоматический билд, тест и деплой
    при каждом коммите или пуше.
Какие инструменты и best practices вы бы рекомендовали для обеспечения безопасности и мониторинга приложений в Docker?
    - нужно использовать доверенные репозитории, своевременно обновлять докер и образы, можно включить сканирование
    образов в ci cd (docker scout, docker bench for security). для мониторинга можно использовать docker logs или
    специальное приложение dockly, позволяющее интерактивно управлять и отслеживать контейнеры, включая просмотр логов
    в реальном времени.